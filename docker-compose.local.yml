version: "3.8"

services:
    app:
        build:
            context: .
            dockerfile: Dockerfile.local
        ports:
            - "3000:3000"
        env_file:
            - .env.local
        environment:
            - NODE_ENV=development
            - NEXT_ENVIRONMENT=development
            # Configuration de l'authentification
            - NEXTAUTH_URL=http://127.0.0.1:3000
            - NEXTAUTH_URL_INTERNAL=http://127.0.0.1:3000
            - NEXTAUTH_SECRET=secret
            # Autoriser les requÃªtes locales
            - AUTH_TRUST_HOST=true
        networks:
            - hrs-network

networks:
    hrs-network:
        driver: bridge
